<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2010" height="1052"><desc>participant%20%22Identity%20Propagation%20Service%20(IPS)%22%20as%20IPS%0Aparticipant%20%22Client%22%20as%20Client%0Aparticipant%20%22Resource%20Server%20(RS)%22%20as%20RS%0A%0Abottomparticipants%0A%0Anote%20over%20IPS%3AIPS%3A%5Cn%E2%80%A2%20acts%20as%20an%20IdP%20client%5Cn%E2%80%A2%20is%20part%20of%20the%20STS%20that%20supports%20the%20Token%20Exchange%20extension%20of%20OAuth%202.0%5Cn%0Anote%20over%20Client%3AClient%3A%5Cn%E2%80%A2%20is%20registered%20at%20the%20IdP%20as%20a%20confidential%20client%5Cn%E2%80%A2%20is%20registered%20at%20the%20IPS%20as%20a%20confidential%20client%5Cn%E2%80%A2%20acts%20as%20a%20Relying%20Party%20in%20respect%20of%20the%20IdP%20in%20order%20to%20obtain%20an%20access_token_with_user_claims%5Cn%E2%80%A2%20should%20support%20DPOP%0Anote%20over%20RS%3ARS%3A%5Cn%E2%80%A2%20uses%20the%20local%20ABAC%20engine%20to%20automate%20authorization%20assessment%0AIPS%3C-Client%3A1.%20Send%20an%20HTTP%20request%20to%20exchange%20the%20access_token_with_user_claims%5Cn%20%20%20%20for%20an%20access%20token%20with%20changed%20aud%20claim%5Cn%20%20%20%20%7Bgrant_type%20%3D%20token-exchange%2C%5Cn%20%20%20%20%20resource%20%3D%20a%20target%20RS%20URI%5Cn%20%20%20%20%20requested_token_type%20%3D%20urn%3Aietf%3Aparams%3Aoauth%3Atoken-type%3Aaccess_token%2C%5Cn%20%20%20%20%20subject_token%20%3D%20access_token_with_user_claims%2C%5Cn%20%20%20%20%20subject_token_type%20%3D%20urn%3Aietf%3Aparams%3Aoauth%3Atoken-type%3Aaccess_token%7D%0AIPS-%3EIPS%3A2.%20Authorization%20assessment%3A%5Cn%20%20%201.%20evaluate%20the%20resource%20parameter%5Cn%20%20%202.%20verify%20the%20subject_token%20signature%5Cn%20%20%203.%20evaluate%20the%20subject_token%20claims%0A%0AIPS-%3EIPS%3A3.%20IPS%20generates%20an%20access_token%20with%20these%20claims%3A%5Cn%20%20%20%20%7Biss%2C%20aud%2C%20sub%2C%20exp%2C%20nbf%7D%5Cn%20%20%20%20iss%20is%20the%20URI%20that%20identifies%20who%20issues%20the%20access_token%5Cn%20%20%20%20aud%20identifies%20the%20target%20service%20and%20it%20is%20the%20aud%20value%20from%20the%20resource%20parameter%5Cn%20%20%20%20sub%20identifies%20the%20principal%20by%20an%20email%20address%20that%20is%20extracted%20from%20the%20access_token_with_user_claims%5Cn%20%20%20%20exp%2C%20nbf%20are%20the%20standard%20JWT%20claims%0AClient%3C-IPS%3A6.%20Return%20the%20access_token%0A%0AClient-%3ERS%3A4.%20Send%20an%20HTTP%20request%20to%20the%20RS%20with%20the%20access_token%20in%20the%20header%0ARS-%3ERS%3A5.%20Authorization%20assessment%5Cn%20%20%20%201.%20verify%20the%20access_token%20signature%5Cn%20%20%20%202.%20evaluate%20claims%0ARS-%3EClient%3A6.%20Return%20the%20HTTP%20response%2C%20typically%20with%20200%2C%20201%20status%20code%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="2010" height="1052"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 312.4661143882031 50.815047804 L 312.4661143882031 999.2620824840002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1135.2603290022657 50.815047804 L 1135.2603290022657 999.2620824840002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1699.2700479952346 50.815047804 L 1699.2700479952346 999.2620824840002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 172.88911283091014 10.253481456000003 L 452.0431159454961 10.253481456000003 L 452.0431159454961 50.815047804 L 172.88911283091014 50.815047804 L 172.88911283091014 10.253481456000003 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="189.24944721291013" y="35.736398604" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Identity Propagation Service (IPS)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1097.6499946202657 10.253481456000003 L 1172.8706633842658 10.253481456000003 L 1172.8706633842658 50.815047804 L 1097.6499946202657 50.815047804 L 1097.6499946202657 10.253481456000003 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.0103290022657" y="35.736398604" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1605.0430449120627 10.253481456000003 L 1793.4970510784065 10.253481456000003 L 1793.4970510784065 50.815047804 L 1605.0430449120627 50.815047804 L 1605.0430449120627 10.253481456000003 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1621.4033792940627" y="35.736398604" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Resource Server (RS)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 172.88911283091014 999.2620824840002 L 452.0431159454961 999.2620824840002 L 452.0431159454961 1039.8236488320001 L 172.88911283091014 1039.8236488320001 L 172.88911283091014 999.2620824840002 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="189.24944721291013" y="1024.7449996320004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Identity Propagation Service (IPS)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1097.6499946202657 999.2620824840002 L 1172.8706633842658 999.2620824840002 L 1172.8706633842658 1039.8236488320001 L 1097.6499946202657 1039.8236488320001 L 1097.6499946202657 999.2620824840002 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.0103290022657" y="1024.7449996320004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1605.0430449120627 999.2620824840002 L 1793.4970510784065 999.2620824840002 L 1793.4970510784065 1039.8236488320001 L 1605.0430449120627 1039.8236488320001 L 1605.0430449120627 999.2620824840002 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1621.4033792940627" y="1024.7449996320004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Resource Server (RS)</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 80.972346204 L 603.8221198964062 80.972346204 L 617.3929041764062 94.543130484 L 617.3929041764062 160.889186964 L 7.5393246000000005 160.889186964 L 7.5393246000000005 80.972346204 M 603.8221198964062 80.972346204 L 603.8221198964062 94.543130484 L 617.3929041764062 94.543130484" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="102.082455084" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">IPS:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="117.161104284" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">• acts as an IdP client</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">• is part of the STS that supports the Token Exchange extension of OAuth 2.0</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="147.318402684" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 753.2418949269533 183.507160764 L 1503.7079787975783 183.507160764 L 1517.2787630775783 197.077945044 L 1517.2787630775783 278.502650724 L 753.2418949269533 278.502650724 L 753.2418949269533 183.507160764 M 1503.7079787975783 183.507160764 L 1503.7079787975783 197.077945044 L 1517.2787630775783 197.077945044" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="774.3520038069532" y="204.61726964399998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="774.3520038069532" y="219.69591884399998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">• is registered at the IdP as a confidential client</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="774.3520038069532" y="234.77456804399998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">• is registered at the IPS as a confidential client</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="774.3520038069532" y="249.85321724399998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">• acts as a Relying Party in respect of the IdP in order to obtain an access_token_with_user_claims</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="774.3520038069532" y="264.931866444" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">• should support DPOP</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1426.7515986611331 301.120624524 L 1958.2177130493362 301.120624524 L 1971.7884973293362 314.691408804 L 1971.7884973293362 350.880166884 L 1426.7515986611331 350.880166884 L 1426.7515986611331 301.120624524 M 1958.2177130493362 301.120624524 L 1958.2177130493362 314.691408804 L 1971.7884973293362 314.691408804" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1447.861707541133" y="322.23073340400003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RS:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1447.861707541133" y="337.309382604" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">• uses the local ABAC engine to automate authorization assessment</text></g><g><g><rect fill="white" stroke="none" x="441.893080809375" y="373.498140684" width="544.590245150625" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="441.893080809375" y="388.57678988400005" width="346.3736008635156" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="441.893080809375" y="403.655439084" width="255.84026040941407" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="441.893080809375" y="418.734088284" width="225.35692300707032" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="441.893080809375" y="433.81273748399997" width="563.9402817717188" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="441.893080809375" y="448.89138668399994" width="385.85693826585936" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="441.893080809375" y="463.9700358839999" width="547.6569565764063" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.15487818937504" y="387.0689249640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. Send an HTTP request to exchange the access_token_with_user_claims</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.15487818937504" y="402.14757416400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    for an access token with changed aud claim</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.15487818937504" y="417.226223364" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    {grant_type = token-exchange,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.15487818937504" y="432.304872564" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     resource = a target RS URI</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.15487818937504" y="447.38352176399997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     requested_token_type = urn:ietf:params:oauth:token-type:access_token,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.15487818937504" y="462.46217096399994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     subject_token = access_token_with_user_claims,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.15487818937504" y="477.5408201639999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     subject_token_type = urn:ietf:params:oauth:token-type:access_token}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1135.2603290022657 483.57227984400004 L 324.8808688962031 483.57227984400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(312.4661143882031,483.57227984400004) translate(-312.4661143882031,-483.57227984400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 325.0316553882031 477.289509344 L 312.4661143882031 483.57227984400004 L 325.0316553882031 489.85505034400006 Z"/></g></g><g><g><rect fill="white" stroke="none" x="330.30918260820306" y="506.19025364400005" width="218.09026040941407" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="521.2689028440001" width="280.0902756682031" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="536.347552044" width="287.39026346117186" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="551.426201244" width="287.85693826585936" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="519.7610379240001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. Authorization assessment:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="534.8396871240001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   1. evaluate the resource parameter</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="549.918336324" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   2. verify the subject_token signature</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="564.996985524" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   3. evaluate the subject_token claims</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 312.4661143882031 571.028445204 L 372.7807111882031 571.028445204 L 372.7807111882031 590.630689164 L 324.8808688962031 590.630689164" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(312.4661143882031,590.630689164) translate(-312.4661143882031,-590.630689164)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 325.0316553882031 584.3479186640001 L 312.4661143882031 590.630689164 L 325.0316553882031 596.913459664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="330.30918260820306" y="613.2486629640001" width="387.9402512541406" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="628.3273121640001" width="202.99025430589845" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="643.4059613640001" width="440.47360696703123" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="658.484610564" width="645.02359476" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="673.563259764" width="799.6736191740625" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="330.30918260820306" y="688.641908964" width="294.25693216234373" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="626.8194472440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. IPS generates an access_token with these claims:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="641.8980964440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    {iss, aud, sub, exp, nbf}</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="656.9767456440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    iss is the URI that identifies who issues the access_token</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="672.055394844" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    aud identifies the target service and it is the aud value from the resource parameter</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="687.134044044" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    sub identifies the principal by an email address that is extracted from the access_token_with_user_claims</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.5709799882031" y="702.212693244" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    exp, nbf are the standard JWT claims</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 312.4661143882031 708.2441529240001 L 372.7807111882031 708.2441529240001 L 372.7807111882031 727.8463968840001 L 324.8808688962031 727.8463968840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(312.4661143882031,727.8463968840001) translate(-312.4661143882031,-727.8463968840001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 325.0316553882031 721.5636263840001 L 312.4661143882031 727.8463968840001 L 325.0316553882031 734.1291673840001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="622.3097601916993" y="750.4643706840001" width="203.10692300707032" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="624.5715575716993" y="764.0351549640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6. Return the access_token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 312.4661143882031 770.0666146440001 L 1122.8455744942657 770.0666146440001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1135.2603290022657,770.0666146440001) translate(-1135.2603290022657,-770.0666146440001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1122.6947880022658 763.7838441440001 L 1135.2603290022657 770.0666146440001 L 1122.6947880022658 776.349385144 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1153.1033972222658" y="792.684588444" width="528.3235825529688" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1155.3651946022658" y="806.255372724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4. Send an HTTP request to the RS with the access_token in the header</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1135.2603290022657 812.286832404 L 1686.8552934872346 812.286832404" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1699.2700479952346,812.286832404) translate(-1699.2700479952346,-812.286832404)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1686.7045069952346 806.0040619040001 L 1699.2700479952346 812.286832404 L 1686.7045069952346 818.569602904 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1717.1131162152346" y="834.9048062040001" width="213.14026346117188" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="1717.1131162152346" y="849.9834554040001" width="288.3069199553125" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="1717.1131162152346" y="865.0621046040001" width="157.54025735765626" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1719.3749135952346" y="848.4755904840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">5. Authorization assessment</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1719.3749135952346" y="863.5542396840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    1. verify the access_token signature</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1719.3749135952346" y="878.6328888840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    2. evaluate claims</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1699.2700479952346 884.6643485640001 L 1759.5846447952345 884.6643485640001 L 1759.5846447952345 904.2665925240001 L 1711.6848025032346 904.2665925240001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1699.2700479952346,904.2665925240001) translate(-1699.2700479952346,-904.2665925240001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1711.8355889952345 897.9838220240001 L 1699.2700479952346 904.2665925240001 L 1711.8355889952345 910.5493630240001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1176.8283880669924" y="926.884566324" width="480.8736008635156" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1179.0901854469923" y="940.455350604" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6. Return the HTTP response, typically with 200, 201 status code</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1699.2700479952346 946.4868102840001 L 1147.6750835102657 946.4868102840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1135.2603290022657,946.4868102840001) translate(-1135.2603290022657,-946.4868102840001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1147.8258700022657 940.2040397840001 L 1135.2603290022657 946.4868102840001 L 1147.8258700022657 952.769580784 Z"/></g></g></g></g></svg>